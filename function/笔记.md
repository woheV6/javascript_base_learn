### å‡½æ•° javascript çš„ä¸€ç­‰å…¬æ°‘

- é€’å½’
  - ğŸŒ°1 è¿™ç§æ–¹å¼åˆ›å»ºçš„é€’å½’å‡½æ•°
    ```
        function sum(num){
            if(num<1){
                return 1
            }else{
                return num*sum(num-1)
            }
        }
        const sum2= sum
        sum=null
        sum2() // sum is not a function é”™è¯¯ è¿™æ˜¯é«˜è€¦åˆ
    ```
  - æ”¹é€ ä¸€ä¸‹ å€Ÿç”¨ arguments.calleeã€‚ï¼ˆä¸¥æ ¼æ¨¡å¼ä¸‹ä¼šæŠ¥é”™ï¼‰
    ```
        function sum(num){
            if(num<1){
                return 1
            }else{
                return num*arguments.callee(num-1)
            }
        }
        const sum2=sum
        sum=null
        sum2(3) //6
    ```
  - ä½¿ç”¨åŒåå‡½æ•°
    ```
        let sum = function f(num){
            if(num<1){
                return 1
            }else{
                return num*f(num-1)
            }
        }
        const sum2=sum
        sum=null
        sum2(3) //6
    ```

### å¼„æ¸…å‡½æ•°ä½œç”¨åŸŸé“¾æ˜¯å’‹å›äº‹

- ä¸¾ä¾‹ ä¸¤ä¸ªæ­¥éª¤ a\b
  ```
      a: function test(arg1,arg2){}
      b: const result=test(1,2)
      åœ¨æ‰§è¡Œaè¿™ä¸€æ­¥æ—¶ï¼šä¼šä¸ºteståˆ›å»ºä¸€ä¸ªåŒ…å«å…¨å±€å˜é‡çš„ä½œç”¨åŸŸé“¾ï¼Œä¿å­˜åœ¨å†…å­˜[[Scope]]ä¸­ã€‚
      åœ¨æ‰§è¡Œbè¿™ä¸€æ­¥æ—¶ï¼šå…¨å±€å˜é‡å¯¹è±¡ä¸­æœ‰result å’Œ testã€‚ä¼šä¸ºtest() åˆ›å»ºä¸€ä¸ªæ‰§è¡Œç¯å¢ƒï¼Œç„¶åå¤åˆ¶å‡½æ•°çš„[[Scope]]å±æ€§çš„å¯¹è±¡æ„å»ºèµ·æ‰§è¡Œç¯å¢ƒçš„ä½œç”¨åŸŸã€‚ç´§æ¥ç€åˆ›å»ºä¸€ä¸ªåŒ…å«arguments arg1 arg2 çš„ä¸€ä¸ªæ´»åŠ¨å¯¹è±¡ã€‚å¹¶æ¨é€åˆ°æ‰§è¡Œç¯å¢ƒä½œç”¨åŸŸçš„å‰ç«¯ã€‚å…¨å±€å˜é‡å¯¹è±¡åœ¨testä¸­å¤„äºç¬¬äºŒä½ç½®ã€‚
      å¯¹äºtestæ‰§è¡Œç¯å¢ƒè€Œè¨€ï¼ŒåŒ…å«ä¸¤ä¸ªå˜é‡å¯¹è±¡ï¼šæœ¬åœ°æ´»åŠ¨å¯¹è±¡å’Œå…¨å±€å˜é‡å¯¹è±¡ï¼Œæ˜¾ç„¶ä½œç”¨åŸŸé“¾æŒ‡å‘å˜é‡å¯¹è±¡çš„æŒ‡é’ˆåˆ—è¡¨ï¼Œå®ƒåªå¼•ç”¨è€Œä¸å®é™…åŒ…å«å¯¹è±¡ã€‚
      å…¨å±€å˜é‡å¯¹è±¡å§‹ç»ˆéƒ½å­˜åœ¨ï¼Œè€Œåƒtestä¸­çš„å±€éƒ¨å˜é‡å¯¹è±¡åªåœ¨å‡½æ•°æ‰§è¡Œçš„æ—¶å€™å­˜åœ¨ã€‚å½“å‡½æ•°æ‰§è¡Œå®Œæ¯•ï¼Œæ´»åŠ¨å¯¹è±¡å°±ä¼šè¢«é”€æ¯ï¼Œå†…å­˜ä¸­ä»…ä»…ä¿å­˜ç€å…¨å±€å˜é‡å¯¹è±¡ã€‚
  ```

### é—­åŒ…
- æ˜¯æŒ‡æœ‰æƒè®¿é—®å¦ä¸€ä¸ªå‡½æ•°ä½œç”¨åŸŸä¸­çš„å˜é‡çš„å‡½æ•°ã€‚
    - å¦‚ä¸‹çš„a bä¸¤è¡Œ å¼•ç”¨äº†createComper å‡½æ•°ä¸­çš„å˜é‡ å› æ­¤æˆäº†é—­åŒ…
    ```
    function createComper(name){
        return function (obj1,obj2){
            const o_name1=obj1[name] // a
            const o_name2=obj2[name] // b
            if(o_name1<o_name2){
                eturn -1
            }else if(o_name1>o_name2){
                return 1
            }else{
                return 0
            }
        }
    }
    const obj1={name:4}
    const obj2={name:2}
    const comper=createComper('name')
    const r=comper(obj1,obj2)
    ```
  - ç»å…¸æ —å­
    ```
        function test(){
            const list=[]
            for(var i=0;i<10;i++){
                list[i]= (function (j){
                    return  function() {
                            console.log(j)
                        }
                })(i)
            }
            return list
        }
        const r=test()
    ```

### æ¢ç´¢this
- thiså¯¹è±¡æ˜¯è¿è¡Œæ—¶åŸºäºå‡½æ•°æ‰§è¡Œç¯å¢ƒç»‘å®šçš„ã€‚åœ¨å…¨å±€å‡½æ•°ä¸­thisç­‰äºwindow
- å½“å‡½æ•°ä½œä¸ºæŸä¸ªå¯¹è±¡çš„æ–¹æ³•è°ƒç”¨æ—¶ï¼Œthisç­‰äºè¿™ä¸ªå¯¹è±¡ã€‚
- ä¸è¿‡åŒ¿åå‡½æ•°çš„æ‰§è¡Œç¯å¢ƒå…·æœ‰å…¨å±€æ€§ï¼Œå› æ­¤thisé€šå¸¸æŒ‡å‘window
- æ¯ä¸ªå‡½æ•°åœ¨è¢«è°ƒç”¨æ—¶ä¼šè‡ªåŠ¨å–å¾—ä¸¤ä¸ªç‰¹æ®Šå˜é‡ï¼šthis argumentsã€‚å†…éƒ¨å‡½æ•°åœ¨æœç´¢è¿™ä¸¤ä¸ªå˜é‡æ—¶åªæœç´¢åˆ°å…¶æ´»åŠ¨å¯¹è±¡ä¸ºæ­¢ã€‚å› æ­¤æ°¸è¿œä¸å¯èƒ½è®¿é—®åˆ°å¤–éƒ¨å‡½æ•°çš„è¿™ä¸¤ä¸ªå¯¹è±¡ã€‚é™¤éæŠŠå¤–éƒ¨å‡½æ•°çš„thisä¿å­˜åœ¨ä¸€ä¸ªé—­åŒ…èƒ½å¤Ÿè®¿é—®çš„å˜é‡é‡Œï¼Œå°±å¯ä»¥è®©é—­åŒ…è®¿é—®è¿™ä¸ªå¯¹è±¡äº†ã€‚
    ```
        const str='joki'
        const obj={
            str:'xixi',
            sayStr:function(){
                console.log(this.str)
            },
            sayStr_:function(){
                const that=this
                return function(){
                    console.log(that.str)
                    console.log(this.str)
                }
            }
        }
        obj.sayStr() > xixi
        obj.sayStr_()() > xixi / joki
    ```

### iEä¸­çš„å†…å­˜æ³„éœ²---é—­åŒ…
- å¦¥å¦¥çš„å†…å­˜æ³„éœ²ï¼Œå› ä¸ºå­˜åœ¨å¾ªç¯å¼•ç”¨
    ```
        function sayId(){
            const element=document.getElementById('yo')     
            element.onclick=function(){
                console.log(element.id)
            }
        }
    ```
- æ”¹é€ ä¸€ä¸‹ è§£é™¤å¾ªç¯å¼•ç”¨
    ```
        function sayId(){
            const element=document.getElementById('yo')     
            cons id=element.id
            element.onclick=function(){
                console.log(id)
            }
            element=null
        }
    ```
- æ¨¡å—æ¨¡å¼
    - æ¨¡å—æ¨¡å¼æ˜¯ä¸ºå•ä¾‹åˆ›å»ºç§æœ‰å˜é‡å’Œç‰¹æƒæ–¹æ³•ã€‚
    - å•ä¾‹ï¼šæŒ‡çš„æ˜¯åªæœ‰ä¸€ä¸ªå®ä¾‹çš„å¯¹è±¡
    ```
      1.å¯¹è±¡å­—é¢é‡åˆ›å»ºçš„å°±æ˜¯å•ä¾‹
      const obj={
          name:'dd',
          say:function(){console.log(this.name)}
      }
      2.åœ¨åº”ç”¨ä¸­
      const singleton=function(){
          const components=[]
          components.push(new BaseComponet())
          return {
              getComponts:function(){
                  return this.components.length
              },
              addComponent:function(componrnt){
                  this.components.push(componrnt)
              }
          }
      }
    ```
- å¢å¼ºæ¨¡å¼
    - å•ä¾‹å¿…é¡»æ˜¯æŸç§ç±»å‹çš„å®ä¾‹çš„æ—¶å€™
    ```
        const singleton=function(){
            const components=[]
            components.push(new BaseComponet())
            const app=new BaseComponet()
            app.getComponts=:function(){
                    return this.components.length
            }
            app.addComponent=function(componrnt){
                    this.components.push(componrnt)
            }
            return app
        }
    ```